<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ForgeDiamonds — Diamantes Free Fire</title>
  <meta name="description" content="Site moderno e responsivo para compra de diamantes do Free Fire via Pix.">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            ink: '#0a0b0f',
            coal: '#11131a',
            ember: '#ff6b2c',
            gold: '#f5c451',
            gild: '#eab308'
          },
          boxShadow: { glow: '0 0 0 1px rgba(234,179,8,.25), 0 10px 30px rgba(250,204,21,.12), inset 0 0 0 1px rgba(250,204,21,.06)' },
          fontFamily: { sans: ['Inter','ui-sans-serif','system-ui','Segoe UI','Roboto','Arial'] },
          keyframes: { float: { '0%,100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-6px)' } } },
          animation: { float: 'float 6s ease-in-out infinite' }
        }
      }
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet"/>
  <style>
    .bg-hero {
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(245,196,81,.12), transparent 50%),
        radial-gradient(900px 500px at 110% 10%, rgba(255,107,44,.12), transparent 50%),
        radial-gradient(1600px 800px at 50% 110%, rgba(245,196,81,.08), transparent 50%),
        linear-gradient(180deg, #0a0b0f 0%, #11131a 100%);
    }
    .grid-overlay:before {
      content: ""; position: absolute; inset: 0;
      background-image: radial-gradient(rgba(255,255,255,.05) 1px, transparent 1px);
      background-size: 16px 16px; pointer-events: none;
      mask-image: radial-gradient(circle at center, rgba(0,0,0,.25), rgba(0,0,0,.9));
    }
    html { scroll-behavior: smooth; }
  </style>
</head>
<body class="min-h-screen bg-hero text-white font-sans">
  <header class="sticky top-0 z-30 backdrop-blur bg-black/30 border-b border-white/10">
    <div class="max-w-7xl mx-auto px-6 py-4">
      <div class="flex items-center justify-between gap-6">
        <a href="#inicio" class="flex items-center gap-3">
          <span class="relative inline-flex">
            <svg class="w-9 h-9" viewBox="0 0 64 64" fill="none" aria-hidden="true">
              <defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#f5c451"/><stop offset="1" stop-color="#ff6b2c"/></linearGradient></defs>
              <path d="M10 24L24 8h16l14 16-22 30L10 24z" stroke="url(#g)" stroke-width="2" fill="rgba(245,196,81,.18)"/>
            </svg>
          </span>
          <div>
            <div class="text-lg font-extrabold tracking-wide">
              <span class="bg-gradient-to-r from-gold to-ember bg-clip-text text-transparent">ForgeDiamonds</span>
            </div>
            <p class="text-xs text-white/60">Loja • Não afiliada</p>
          </div>
        </a>

        <nav class="hidden md:flex items-center gap-6 text-sm">
          <a href="#como-funciona" class="text-white/80 hover:text-white transition-colors">Como funciona</a>
          <a href="#pacotes" class="text-white/80 hover:text-white transition-colors">Pacotes</a>
          <a href="#contato" class="text-white/80 hover:text-white transition-colors">Contato</a>
        </nav>

        <button id="ctaComprar" class="group relative overflow-hidden rounded-xl bg-gradient-to-r from-gold to-ember px-5 py-2.5 text-sm font-semibold shadow-glow hover:scale-[1.02] transition">
          <span class="relative z-10">Comprar Agora</span>
          <span class="absolute inset-0 bg-white/15 translate-y-10 group-hover:translate-y-0 transition"></span>
        </button>
      </div>
    </div>
  </header>

  <section id="inicio" class="relative">
    <div class="max-w-7xl mx-auto px-6 pt-12 pb-8 md:pt-16 md:pb-12">
      <div class="grid md:grid-cols-2 items-center gap-10">
        <div>
          <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">
            <span class="block">Diamantes para Free Fire</span>
            <span class="bg-gradient-to-r from-gold to-ember bg-clip-text text-transparent">Compra segura via Pix</span>
          </h1>
          <p class="mt-4 text-white/80 max-w-xl">
            Compre pacotes e receba confirmação de pagamento. Este site não é afiliado à Garena/Free Fire.
          </p>
          <div class="mt-7 flex items-center gap-4">
            <button id="ctaVerPacotes" class="rounded-xl border border-white/15 bg-white/5 hover:bg-white/10 px-5 py-3 text-sm font-semibold transition">Ver pacotes</button>
          </div>
        </div>

        <div class="relative grid-overlay rounded-2xl border border-white/10 bg-white/[.03] p-6 md:p-8 shadow-glow">
          <div class="flex items-center justify-center">
            <svg viewBox="0 0 320 220" class="w-full max-w-md">
              <rect x="20" y="50" rx="16" width="280" height="120" fill="rgba(17,24,39,.6)" stroke="rgba(255,255,255,.15)"/>
              <defs><linearGradient id="screenG" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#f5c451" stop-opacity=".35"/><stop offset="1" stop-color="#ff6b2c" stop-opacity=".35"/></linearGradient></defs>
            </svg>
          </div>
          <p class="text-center mt-4 text-xs text-white/60">Interface de compra</p>
        </div>
      </div>
    </div>
  </section>

  <section id="como-funciona" class="relative">
    <div class="max-w-7xl mx-auto px-6 py-10 md:py-16">
      <div class="grid lg:grid-cols-3 gap-8">
        <div class="lg:col-span-1">
          <h2 class="text-2xl md:text-3xl font-bold">Como funciona</h2>
          <p class="mt-3 text-white/70">Escolha um pacote, informe seu ID do Free Fire e siga as instruções para pagamento via Pix. Pagamentos processados por gateway.</p>
        </div>
        <div class="lg:col-span-2 grid sm:grid-cols-2 gap-6">
          <div class="rounded-2xl border border-white/10 bg-white/[.03] p-6">
            <h3 class="font-semibold">Visual profissional</h3>
            <p class="mt-2 text-white/70 text-sm">Tema escuro com toques dourados.</p>
          </div>
          <div class="rounded-2xl border border-white/10 bg-white/[.03] p-6">
            <h3 class="font-semibold">Fluxo simples</h3>
            <p class="mt-2 text-white/70 text-sm">Um clique, ID do jogador e instruções de pagamento.</p>
          </div>
          <div class="rounded-2xl border border-white/10 bg-white/[.03] p-6">
            <h3 class="font-semibold">Responsivo</h3>
            <p class="mt-2 text-white/70 text-sm">Funciona bem em celular e desktop.</p>
          </div>
          <div class="rounded-2xl border border-white/10 bg-white/[.03] p-6">
            <h3 class="font-semibold">Integração pronta</h3>
            <p class="mt-2 text-white/70 text-sm">Comentários no código mostram onde ligar o back-end e o gateway de pagamentos.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="pacotes" class="relative">
    <div class="max-w-7xl mx-auto px-6 py-10 md:py-16">
      <div class="flex items-end justify-between gap-6">
        <div>
          <h2 class="text-2xl md:text-3xl font-bold">Escolha seu pacote</h2>
          <p class="mt-2 text-white/70 text-sm">Clique em “Comprar” e siga para o pagamento via Pix.</p>
        </div>
      </div>

      <div class="mt-8 grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Cards de pacotes (mantidos) -->
        <div class="rounded-2xl border border-white/10 bg-white/[.03] p-5 shadow-glow hover:-translate-y-1 transition group">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-2">
              <h3 class="font-semibold">100 diamantes</h3>
            </div>
            <span class="text-white/60 text-xs">Iniciante</span>
          </div>
          <p class="mt-2 text-2xl font-extrabold">R$ 4,99</p>
          <button data-plan="100" data-price="4.99" class="buy-btn mt-5 w-full rounded-xl bg-gradient-to-r from-gold to-ember py-2.5 font-semibold">Comprar</button>
        </div>

        <div class="rounded-2xl border border-white/10 bg-white/[.03] p-5 shadow-glow hover:-translate-y-1 transition group">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-2"><h3 class="font-semibold">310 diamantes</h3></div>
            <span class="text-white/60 text-xs">Popular</span>
          </div>
          <p class="mt-2 text-2xl font-extrabold">R$ 14,99</p>
          <button data-plan="310" data-price="14.99" class="buy-btn mt-5 w-full rounded-xl bg-gradient-to-r from-gold to-ember py-2.5 font-semibold">Comprar</button>
        </div>

        <div class="relative rounded-2xl border border-white/10 bg-white/[.03] p-5 shadow-glow hover:-translate-y-1 transition group">
          <div class="absolute -top-3 right-5 text-[10px] px-2 py-1 rounded-full bg-gradient-to-r from-gold to-amber-300 text-black font-bold shadow">MAIS VANTAGEM</div>
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-2"><h3 class="font-semibold">520 diamantes</h3></div>
            <span class="text-white/60 text-xs">Valor</span>
          </div>
          <p class="mt-2 text-2xl font-extrabold">R$ 24,99</p>
          <button data-plan="520" data-price="24.99" class="buy-btn mt-5 w-full rounded-xl bg-gradient-to-r from-gold to-ember py-2.5 font-semibold">Comprar</button>
        </div>

        <div class="rounded-2xl border border-white/10 bg-white/[.03] p-5 shadow-glow hover:-translate-y-1 transition group">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-2"><h3 class="font-semibold">1060 diamantes</h3></div>
            <span class="text-white/60 text-xs">Pro</span>
          </div>
          <p class="mt-2 text-2xl font-extrabold">R$ 49,99</p>
          <button data-plan="1060" data-price="49.99" class="buy-btn mt-5 w-full rounded-xl bg-gradient-to-r from-gold to-ember py-2.5 font-semibold">Comprar</button>
        </div>
      </div>
    </div>
  </section>

  <footer id="contato" class="border-t border-white/10 bg-black/30">
    <div class="max-w-7xl mx-auto px-6 py-10">
      <div class="grid md:grid-cols-3 gap-8">
        <div>
          <div class="flex items-center gap-2"><span class="font-semibold">ForgeDiamonds</span></div>
          <p class="mt-3 text-white/70 text-sm">Interface de compra. Não afiliado à Garena/Free Fire.</p>
        </div>
        <div>
          <h4 class="font-semibold">Suporte</h4>
          <div class="mt-3 space-y-2 text-sm">
            <a href="mailto:suporte@forgediamonds.demo" class="block text-white/80 hover:text-white">suporte@forgediamonds.demo</a>
          </div>
        </div>
        <div>
          <h4 class="font-semibold">Políticas</h4>
          <div class="mt-3 space-y-2 text-sm">
            <a href="#" class="block text-white/80 hover:text-white">Política de Privacidade</a>
            <a href="#" class="block text-white/80 hover:text-white">Termos de Uso</a>
          </div>
        </div>
      </div>
      <div class="mt-8 text-xs text-white/60">Free Fire é marca registrada de seus respectivos proprietários.</div>
    </div>
  </footer>

  <!-- Modal (pronto para integração real) -->
  <div id="modalOverlay" class="fixed inset-0 z-40 hidden">
    <div class="absolute inset-0 bg-black/60"></div>
    <div class="relative z-50 mx-auto w-full max-w-2xl p-4 md:py-12">
      <div class="rounded-2xl border border-white/10 bg-[#0b0f19] shadow-glow overflow-hidden">
        <div class="px-6 py-4 border-b border-white/10 flex items-center justify-between">
          <div>
            <h3 class="text-lg font-bold">Finalizar compra</h3>
            <p class="text-xs text-white/60">Informe seu ID e siga para pagamento Pix.</p>
          </div>
          <button id="btnCloseModal" class="p-2 rounded-lg hover:bg-white/10 transition" aria-label="Fechar modal">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          </button>
        </div>

        <div id="modalContent" class="px-6 py-5 space-y-5">
          <div class="rounded-xl border border-white/10 bg-white/[.03] p-4 flex items-center justify-between gap-3">
            <div class="flex items-center gap-3">
              <svg class="w-6 h-6 text-gold" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l4 5-4 9-4-9 4-5z"/></svg>
              <div>
                <p id="summaryTitle" class="font-semibold">Pacote</p>
                <p class="text-xs text-white/60">Confirmação enviada após pagamento</p>
              </div>
            </div>
            <div class="text-right">
              <p id="summaryPrice" class="font-extrabold text-lg">R$ --</p>
            </div>
          </div>

          <form id="idForm" class="space-y-3">
            <label for="playerId" class="text-sm font-semibold">ID do Free Fire</label>
            <div>
              <input id="playerId" name="playerId" inputmode="numeric" pattern="[0-9]{4,20}" placeholder="Ex: 123456789" class="w-full rounded-lg bg-black/40 border border-white/10 px-3 py-2 text-sm text-white/90 focus:outline-none focus:border-gold" required/>
              <p class="mt-1 text-[11px] text-white/60">Digite seu ID numérico do jogo.</p>
              <p id="idError" class="mt-1 text-[12px] text-ember hidden">Por favor, informe um ID válido (apenas números, 4 a 20 dígitos).</p>
            </div>
          </form>

          <!-- Area de pagamento: QR Code será inserido aqui após criação da cobrança no back-end -->
          <div class="rounded-xl border border-white/10 bg-white/[.03] p-4">
            <div id="paymentArea">
              <p class="text-sm font-semibold">Pagamento via Pix</p>
              <p class="mt-2 text-xs text-white/70">Clique em Gerar Cobrança para obter o QR Code e as instruções.</p>
              <div id="qrContainer" class="mt-3"></div>
              <div id="pixInfo" class="mt-2 text-xs text-white/70 hidden">
                <p>Chave Pix: <span id="pixKeyDisplay">YOUR_PIX_PLACEHOLDER</span></p>
                <p>Valor: <span id="pixAmount">R$ 0,00</span></p>
              </div>
            </div>
          </div>

          <div class="flex flex-col sm:flex-row items-center justify-between gap-3">
            <button id="btnCancel" class="w-full sm:w-auto rounded-xl border border-white/15 bg-white/[.05] px-5 py-2.5 text-sm font-semibold transition">Cancelar</button>
            <button id="btnGenerateCharge" class="w-full sm:w-auto rounded-xl bg-gradient-to-r from-gold to-ember px-5 py-2.5 text-sm font-semibold">Gerar Cobrança (Pix)</button>
          </div>
        </div>

        <div id="modalProcessing" class="hidden px-6 py-12 text-center">
          <div class="inline-flex items-center justify-center w-14 h-14 rounded-full border-2 border-white/10">
            <svg class="w-6 h-6 animate-spin text-gold" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-opacity=".2" stroke-width="3"/></svg>
          </div>
          <p class="mt-4 font-semibold">Gerando cobrança...</p>
        </div>

        <div id="modalSuccess" class="hidden px-6 py-10 text-center">
          <div class="mx-auto w-16 h-16 rounded-full bg-gold/15 text-gold flex items-center justify-center">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.2l-3.5-3.5L4 14.2 9 19l11-11-1.5-1.5z"/></svg>
          </div>
          <h4 class="mt-4 text-xl font-bold">Pagamento recebido</h4>
          <p id="successText" class="mt-1 text-white/70 text-sm">Pedido #—</p>
          <div class="mt-6 flex items-center justify-center gap-3">
            <button id="btnFinish" class="rounded-xl bg-gradient-to-r from-gold to-ember px-5 py-2.5 text-sm font-semibold">Concluir</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="toast" class="fixed bottom-5 left-1/2 -translate-x-1/2 z-50 hidden">
    <div class="rounded-full bg-black/70 border border-white/10 px-4 py-2 text-xs">Ação realizada</div>
  </div>

  <script>
    // Pacotes
    const PACKS = {
      "100": { id: "100", title: "100 diamantes", price: 4.99 },
      "310": { id: "310", title: "310 diamantes", price: 14.99 },
      "520": { id: "520", title: "520 diamantes", price: 24.99 },
      "1060": { id: "1060", title: "1060 diamantes", price: 49.99 }
    };

    // Substitua com chave fixa ou deixe para o back-end retornar os dados reais.
    const PIX_KEY_PLACEHOLDER = "YOUR_PIX_PLACEHOLDER";

    const state = { open: false, pack: null, orderId: null };

    const el = {
      ctaComprar: document.getElementById('ctaComprar'),
      ctaVerPacotes: document.getElementById('ctaVerPacotes'),
      modalOverlay: document.getElementById('modalOverlay'),
      modalContent: document.getElementById('modalContent'),
      modalProcessing: document.getElementById('modalProcessing'),
      modalSuccess: document.getElementById('modalSuccess'),
      btnCloseModal: document.getElementById('btnCloseModal'),
      btnCancel: document.getElementById('btnCancel'),
      btnGenerateCharge: document.getElementById('btnGenerateCharge'),
      summaryTitle: document.getElementById('summaryTitle'),
      summaryPrice: document.getElementById('summaryPrice'),
      successText: document.getElementById('successText'),
      playerId: document.getElementById('playerId'),
      idError: document.getElementById('idError'),
      qrContainer: document.getElementById('qrContainer'),
      pixKeyDisplay: document.getElementById('pixKeyDisplay'),
      pixAmount: document.getElementById('pixAmount'),
      pixInfo: document.getElementById('pixInfo'),
      toast: document.getElementById('toast')
    };

    const fmtBRL = (n) => n.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

    function openModal(packId) {
      state.pack = PACKS[packId];
      state.orderId = null;
      el.summaryTitle.textContent = state.pack.title;
      el.summaryPrice.textContent = fmtBRL(state.pack.price);
      el.playerId.value = "";
      el.idError.classList.add('hidden');
      el.qrContainer.innerHTML = "";
      el.pixInfo.classList.add('hidden');
      switchView('content');
      el.modalOverlay.classList.remove('hidden');
      state.open = true;
      setTimeout(() => el.playerId.focus(), 60);
    }

    function closeModal() {
      el.modalOverlay.classList.add('hidden');
      state.open = false; state.pack = null; state.orderId = null;
    }

    function switchView(view) {
      el.modalContent.classList.toggle('hidden', view !== 'content');
      el.modalProcessing.classList.toggle('hidden', view !== 'processing');
      el.modalSuccess.classList.toggle('hidden', view !== 'success');
    }

    function isValidId(id) { return /^[0-9]{4,20}$/.test(id); }

    // Ao clicar em gerar cobrança:
    // Este código faz uma chamada fictícia ao endpoint /api/orders que deveria:
    //  - Criar um pedido no seu back-end
    //  - Solicitar ao gateway a geração da cobrança Pix (retornando QR code ou payload)
    //  - Retornar { orderId, pixPayload, pixQrImageUrl, amount, pixKey }
    async function generateCharge() {
      const id = el.playerId.value.trim();
      if (!isValidId(id)) { el.idError.classList.remove('hidden'); el.playerId.focus(); return; }
      el.idError.classList.add('hidden');
      switchView('processing');

      try {
        // EXEMPLO: substituir pela sua chamada real ao back-end
        const payload = { playerId: id, packId: state.pack.id, amount: state.pack.price };
        // exemplo de fetch:
        // const res = await fetch('/api/orders', { method: 'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) });
        // const data = await res.json();

        // ---- substitua o bloco abaixo pelo retorno do seu back-end ----
        await new Promise(r => setTimeout(r, 1000));
        const fakePayload = {
          orderId: `FD-${state.pack.id}-${Math.random().toString(36).slice(2,8).toUpperCase()}`,
          pixPayload: '00020126360014BR.GOV.BCB.PIX0114fake-pix-payload5204000053039865407' + (state.pack.price*100).toFixed(0),
          pixQrImageUrl: '', // se seu back-end retornar uma imagem de QR, exibir aqui
          amount: state.pack.price,
          pixKey: PIX_KEY_PLACEHOLDER
        };
        const data = fakePayload;
        // ---- fim do bloco de exemplo ----

        state.orderId = data.orderId;
        // Se o gateway retornar uma imagem de QR, exibir; se retornar payload, podemos gerar QR client-side
        el.qrContainer.innerHTML = data.pixQrImageUrl
          ? `<img src="${data.pixQrImageUrl}" alt="QR Code Pix" class="mx-auto"/>`
          : `<pre class="text-xs break-words">${data.pixPayload}</pre>`;

        el.pixKeyDisplay.textContent = data.pixKey || PIX_KEY_PLACEHOLDER;
        el.pixAmount.textContent = fmtBRL(data.amount);
        el.pixInfo.classList.remove('hidden');

        // Após gerar a cobrança, volte à visualização principal (com QR exibido).
        switchView('content');
        showToast('Cobrança gerada');
      } catch (err) {
        console.error(err);
        showToast('Erro ao gerar cobrança');
        switchView('content');
      }
    }

    let toastTimer = null;
    function showToast(msg='Ação realizada') {
      el.toast.querySelector('div').textContent = msg;
      el.toast.classList.remove('hidden');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => el.toast.classList.add('hidden'), 2200);
    }

    document.querySelectorAll('.buy-btn').forEach(btn => {
      btn.addEventListener('click', (e) => { e.preventDefault(); openModal(btn.getAttribute('data-plan')); });
    });

    el.btnGenerateCharge.addEventListener('click', (e) => { e.preventDefault(); generateCharge(); });
    el.btnCancel.addEventListener('click', (e) => { e.preventDefault(); closeModal(); });
    el.btnCloseModal.addEventListener('click', (e) => { e.preventDefault(); closeModal(); });
    document.getElementById('modalOverlay').addEventListener('click', (e) => { if (e.target.id === 'modalOverlay') closeModal(); });
    window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && state.open) closeModal(); });

    el.ctaComprar.addEventListener('click', (e) => { e.preventDefault(); document.getElementById('pacotes').scrollIntoView({ behavior: 'smooth', block: 'start' }); });
    el.ctaVerPacotes.addEventListener('click', (e) => { e.preventDefault(); document.getElementById('pacotes').scrollIntoView({ behavior: 'smooth', block: 'start' }); });
  </script>
</body>
</html>
